(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[616],{7234:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return d}});var s=t(29),r=t(7794),u=t.n(r),a=t(7294),o=t(196),i=t(5893);function c(e){var n=e.token;return(0,i.jsx)(a.Fragment,{children:(0,i.jsxs)("form",{onSubmit:l,children:[(0,i.jsx)("input",{type:"text",name:"id"}),(0,i.jsx)("input",{type:"password",name:"password"}),(0,i.jsx)("input",{type:"text",name:"userName"}),(0,i.jsxs)("select",{name:"userClass",children:[(0,i.jsx)("option",{value:"1",children:"미정"}),(0,i.jsx)("option",{value:"2",children:"병사"}),(0,i.jsx)("option",{value:"3",children:"간부"}),(0,i.jsx)("option",{value:"4",children:"군무원"})]}),(0,i.jsx)("input",{type:"submit",value:"회원가입"}),(0,i.jsx)("input",{type:"hidden",name:"token",value:n})]})})}function l(e){return p.apply(this,arguments)}function p(){return(p=(0,s.Z)(u().mark(function e(n){var t,s,r,a;return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),t=n.target){e.next=4;break}return e.abrupt("return",!1);case 4:return s={id:null==t?void 0:t.id.value,password:null==t?void 0:t.password.value,token:null==t?void 0:t.token.value,userName:null==t?void 0:t.userName.value,userClass:null==t?void 0:t.userClass.value},e.next=7,o.Z.post("/api/accounts/account",s,{validateStatus:!1});case 7:(a=e.sent.data).success?location.href="/login":console.error(a);case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}function d(){var e=(0,a.useState)(""),n=e[0],t=e[1];return(0,a.useEffect)(function(){(0,s.Z)(u().mark(function e(){var n;return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/accounts/signup-token",{method:"GET"});case 2:return e.next=4,e.sent.json();case 4:(n=e.sent).success?t(n.join_token):console.error("getTokenFail");case 6:case"end":return e.stop()}},e)}))()},[]),console.log(n),(0,i.jsx)("div",{children:(0,i.jsx)(c,{token:n})})}},8588:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/signup",function(){return t(7234)}])}},function(e){e.O(0,[774,888,179],function(){return e(e.s=8588)}),_N_E=e.O()}]);