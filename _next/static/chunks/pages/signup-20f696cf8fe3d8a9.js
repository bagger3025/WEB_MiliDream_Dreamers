(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[616],{2896:function(e,s){"use strict";s.Z={API_ENDPOINT:"http://127.0.0.1:3000",userIdRegex:/^[0-9a-z]{5,15}$/,userPwRegex:/(?=.*[a-z])(?=.*[0-9])(?=^[\x21-\x7E]{8,32}$).*/,userNicknameRegex:/^[0-9a-zA-Z가-힣]{2,20}$/}},7234:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return y}});var n=t(29),a=t(7794),r=t.n(a),i=t(7294),l=t(5627),o=t.n(l),c=t(196),u=t(2896),d=t(5893);function x(e){var s=e.token;return(0,d.jsxs)(i.Fragment,{children:[(0,d.jsx)("div",{className:"jsx-3030193283 signup",children:(0,d.jsxs)("div",{className:"jsx-3030193283 wrapper",children:[(0,d.jsx)("span",{className:"jsx-3030193283 signup-text",children:"회원가입"}),(0,d.jsxs)("form",{onSubmit:p,className:"jsx-3030193283",children:[(0,d.jsxs)("div",{className:"jsx-3030193283 text-input-box my-3",children:[(0,d.jsx)("label",{htmlFor:"id",className:"jsx-3030193283 form-label",children:"아이디"}),(0,d.jsx)("input",{type:"text",name:"id",autocomplete:"username",required:!0,onKeyUp:f,onBlur:v,className:"jsx-3030193283 form-control"}),(0,d.jsx)("div",{id:"fbId",className:"jsx-3030193283 invalid-feedback"})]}),(0,d.jsxs)("div",{className:"jsx-3030193283 text-input-box my-3",children:[(0,d.jsx)("label",{htmlFor:"password",className:"jsx-3030193283 form-label",children:"비밀번호"}),(0,d.jsx)("input",{type:"password",name:"password",autoComplete:"current-password",required:!0,onKeyUp:h,className:"jsx-3030193283 form-control"}),(0,d.jsx)("div",{id:"fbPw",className:"jsx-3030193283 invalid-feedback"})]}),(0,d.jsxs)("div",{className:"jsx-3030193283 text-input-box my-3",children:[(0,d.jsx)("label",{htmlFor:"passwordCheck",className:"jsx-3030193283 form-label",children:"비밀번호 확인"}),(0,d.jsx)("input",{type:"password",name:"passwordCheck",autoComplete:"new-password",required:!0,onKeyUp:g,className:"jsx-3030193283 form-control"}),(0,d.jsx)("div",{id:"fbPwNew",className:"jsx-3030193283 invalid-feedback"})]}),(0,d.jsxs)("div",{className:"jsx-3030193283 text-input-box my-3",children:[(0,d.jsx)("label",{htmlFor:"id",className:"jsx-3030193283 form-label",children:"닉네임"}),(0,d.jsx)("input",{type:"text",name:"userName",autoComplete:"nickname",required:!0,onKeyUp:N,onBlur:w,className:"jsx-3030193283 form-control"}),(0,d.jsx)("div",{id:"fbNick",className:"jsx-3030193283 invalid-feedback"})]}),(0,d.jsxs)("div",{className:"jsx-3030193283",children:[(0,d.jsx)("label",{htmlFor:"userClass",className:"jsx-3030193283 form-label",children:"군 구분"}),(0,d.jsxs)("select",{name:"userClass",className:"jsx-3030193283 form-select",children:[(0,d.jsx)("option",{value:"1",selected:!0,className:"jsx-3030193283",children:"군 구분을 선택해주세요"}),(0,d.jsx)("option",{value:"1",className:"jsx-3030193283",children:"미정"}),(0,d.jsx)("option",{value:"2",className:"jsx-3030193283",children:"병사"}),(0,d.jsx)("option",{value:"3",className:"jsx-3030193283",children:"간부"}),(0,d.jsx)("option",{value:"4",className:"jsx-3030193283",children:"군무원"})]})]}),(0,d.jsx)("input",{type:"hidden",name:"token",value:s,className:"jsx-3030193283"}),(0,d.jsx)("a",{onClick:p,className:"jsx-3030193283",children:(0,d.jsx)("div",{className:"jsx-3030193283 signup-btn my-4",children:(0,d.jsx)("span",{className:"jsx-3030193283",children:"회원가입"})})})]})]})}),(0,d.jsx)(o(),{id:"3030193283",children:[".signup.jsx-3030193283 .wrapper.jsx-3030193283{position:relative;margin:0 auto;width:640px;}",'.signup-text.jsx-3030193283{font-family:"Noto Sans";font-style:normal;font-weight:600;font-size:24px;line-height:33px;display:block;}','.signup.jsx-3030193283 form.jsx-3030193283 label.jsx-3030193283{font-family:"Noto Sans";font-style:normal;font-weight:400;font-size:12px;line-height:16px;color:black;}','.signup-btn.jsx-3030193283{box-sizing:border-box;position:relative;height:38px;line-height:38px;text-align:center;margin:15px auto;background:linear-gradient(90deg,#9ee6ff 0%,#a593e0 97.67%);border-radius:.375rem;font-family:"Noto Sans";font-style:normal;font-weight:400;font-size:16px;color:white;cursor:pointer;}']})]})}function p(e){return m.apply(this,arguments)}function m(){return(m=(0,n.Z)(r().mark(function e(s){var t,n,a,i;return r().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s&&s.preventDefault(),n={userId:null==(t=document.querySelector(".signup form"))?void 0:t.id.value,password:null==t?void 0:t.password.value,token:null==t?void 0:t.token.value,userName:null==t?void 0:t.userName.value,userClass:null==t?void 0:t.userClass.value},e.next=5,c.Z.post("/api/accounts/account",n,{validateStatus:!1});case 5:if(200!=(a=e.sent).status){e.next=14;break}return i={id:n.userId,password:n.password},e.next=11,c.Z.post("/api/accounts/sign",i,{validateStatus:!1});case 11:location.href="/",e.next=15;break;case 14:console.error(a.data);case 15:case"end":return e.stop()}},e)}))).apply(this,arguments)}function f(e){var s=u.Z.userIdRegex.test(e.target.value);k(e.target.classList,s),s||(document.getElementById("fbPw").innerText="소문자와 숫자로 이루어진 5~15글자를 입력해주세요")}function v(e){return j.apply(this,arguments)}function j(){return(j=(0,n.Z)(r().mark(function e(s){var t,n,a,i;return r().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=document.querySelector(".signup form"),n={userId:s.target.value,token:null==t?void 0:t.token.value},e.next=4,c.Z.post("/api/accounts/attempt",n,{validateStatus:!1});case 4:a=e.sent,s.target.classList.contains("is-valid")&&200!=a.status&&(document.getElementById("fbId").innerText="사용중인 아이디입니다."),k(s.target.classList,200==a.status);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function h(e){var s=u.Z.userPwRegex.test(e.target.value);k(e.target.classList,s),s||(document.getElementById("fbPw").innerText="영문 소문자와 숫자를 포함한 비밀번호 8~32글자를 입력해주세요")}function g(e){var s,t=(null===(s=document.querySelector(".signup form"))||void 0===s?void 0:s.password.value)==e.target.value||0==e.target.value.length;k(e.target.classList,t),t||(document.getElementById("fbPwNew").innerText="비밀번호가 일치하지 않습니다")}function N(e){var s=u.Z.userNicknameRegex.test(e.target.value);k(e.target.classList),s||(document.getElementById("fbNick").innerText="영문 소문자, 숫자, 한글만 가능하며 2~20글자를 입력해주세요")}function w(e){return b.apply(this,arguments)}function b(){return(b=(0,n.Z)(r().mark(function e(s){var t,n,a,i;return r().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=document.querySelector(".signup form"),n={userName:s.target.value,token:null==t?void 0:t.token.value},e.next=4,c.Z.post("/api/accounts/attempt",n,{validateStatus:!1});case 4:a=e.sent,s.target.classList.contains("is-valid")&&200!=a.status&&(document.getElementById("fbNick").innerText="사용중인 닉네임입니다."),k(s.target.classList,200==a.status);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function k(e,s){e.remove(s?"is-invalid":"is-valid"),e.add(s?"is-valid":"is-invalid")}function y(){var e=(0,i.useState)(""),s=e[0],t=e[1];return(0,i.useEffect)(function(){(0,n.Z)(r().mark(function e(){var s;return r().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/accounts/signup-token",{method:"GET"});case 2:return e.next=4,e.sent.json();case 4:t(null==(s=e.sent)?void 0:s.token);case 6:case"end":return e.stop()}},e)}))()},[]),(0,d.jsx)("div",{children:(0,d.jsx)(x,{token:s})})}},8588:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/signup",function(){return t(7234)}])}},function(e){e.O(0,[774,888,179],function(){return e(e.s=8588)}),_N_E=e.O()}]);